<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Title Page</title>
  <!-- CSS resource load -->
  <link href="../../resources/fonts/NotoSansKR-Regular.woff2" rel="preload" as="font">
  <link href="../../resources/fonts/NotoSansKR-Medium.woff2" rel="preload" as="font">
  <link href="../../resources/fonts/NotoSansKR-Bold.woff2" rel="preload" as="font">
  <link href="../../resources/css/NotoSansKR.css" rel="stylesheet">
  <link href="../../resources/css/font-awesome-all.css" rel="stylesheet">
  <link href="../../resources/css/bootstrap.min.css" rel="stylesheet">
  <link href="../../resources/css/bootstrap-datepicker.standalone.css" rel="stylesheet">
  <link href="../../resources/css/ui.jqgrid.css" rel="stylesheet">
  <link href="../../resources/css/reset.css" rel="stylesheet">
  <link href="../../resources/css/s1_uvis_frame.css" rel="stylesheet">
  <link href="../../resources/css/s1_uvis_style.css" rel="stylesheet">
  <!-- //CSS resource load -->
</head>
<body class="sub">
  <!-- Markup Start -->
  <!-- frame wrapper -->
  <div class="frame-wrapper">
    <!-- frame content -->
    <div class="frame-content">
      <!-- content tab -->
      <div class="content-tab">
        <div class="radio-group inline bigger page-select">
          <div class="input-wrap">
            <label for="pageSelRadio1">
              <input id="pageSelRadio1" name="pageSel" type="radio" checked>
              <span>휴식일정관리</span>
            </label>
          </div>
          <div class="input-wrap">
            <label for="pageSelRadio2">
              <input id="pageSelRadio2" name="pageSel" type="radio">
              <span>휴식시간현황</span>
            </label>
          </div>
        </div>
      </div>
      <!-- //content tab -->
      <!-- top search -->
      <div class="top-search">
        <div class="search-forms">
          <div class="row">
            <div class="input-group">
              <legend>차량번호</legend>
              <div class="input-wrap select">
                <select id name>
                  <option value="">선택</option>
                </select>
              </div>
              <div class="input-wrap"><input class="clearable" id name type="text"></div>
            </div>
            <div class="input-group">
              <legend>운전자 선택</legend>
              <div class="input-wrap select">
                <select id name>
                  <option value="">선택</option>
                </select>
              </div>
              <div class="input-wrap"><input class="clearable" id name type="text"></div>
            </div>
            <div class="input-group date-range">
              <legend>운행일자</legend>
              <div class="input-wrap date"><input class="datepicker" id name type="text"><i class="icon-calendar"></i></div>
              <span class="between">~</span>
              <div class="input-wrap date"><input class="datepicker" id name type="text"><i class="icon-calendar"></i></div>
              <div class="btn-group">
                <button class="btn btn-white on">일별</button>
                <button class="btn btn-white">주별</button>
                <button class="btn btn-white">월별</button>
              </div>
            </div>
          </div>
        </div>
        <div class="search-btns">
          <button class="btn btn-white btn-reset">초기화</button>
          <button class="btn btn-blue btn-search">검색</button>
        </div>
      </div>
      <!-- //top search -->
      <!-- 분할영역 -->
      <div class="partition-area">
        <div class="row">
          <div class="col col-xl-12 col-md-12">
            <div class="data-list-table">
              <div class="data-list-table-header">
                <div class="header-left"><button class="btn btn-white">캘린더로 보기</button>
                  <p class="font-gray">배차정보를 클릭하면 배차수정이 가능합니다.</p>
                </div>
                <div class="header-right"><button class="btn btn-blue" onclick="$('#popModel2').modal();">일괄등록/삭제</button><button class="btn btn-white">엑셀다운</button></div>
              </div>
              <div class="data-table">
                <table id="list1"></table>
              </div>
              <div class="data-list-table-footer">
                <div class="footer-left">
                  <div class="table-info">TOTAL : 50</div>
                </div>
                <div class="paging">
                  <a class="btn-first" href="#"></a>
                  <a class="btn-prev" href="#"></a>
                  <a class="on" href="#">1</a>
                  <a class href="#">2</a>
                  <a class href="#">3</a>
                  <a class href="#">4</a>
                  <a class="btn-next" href="#"></a>
                  <a class="btn-last" href="#"></a>
                </div>
                <div class="footer-right">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- //분할영역 -->
      <!-- 팝업 영역 -->
      <div class="modal-schedule">
        <div class="modal-content">
          <div class="modal-header">
            <div class="modal-title">
              <h5>2019.05.01</h5>
            </div>
            <button class="close" onclick="$('.modal-schedule').hide();"></button>
          </div>
          <div class="modal-body">
            <div class="schedule-list">
              <ul>
                <li><a href="javascript:$('#popModel1').modal();"><strong>홍길동</strong> <span>경기 11하 1111(00:00 ~ 00:00)</span></a></li>
                <li><a href="javascript:$('#popModel1').modal();"><strong>홍길동</strong> <span>경기 11하 1111(00:00 ~ 00:00)</span></a></li>
                <li><a href="javascript:$('#popModel1').modal();"><strong>홍길동</strong> <span>경기 11하 1111(00:00 ~ 00:00)</span></a></li>
                <li><a href="javascript:$('#popModel1').modal();"><strong>홍길동</strong> <span>경기 11하 1111(00:00 ~ 00:00)</span></a></li>
                <li><a href="javascript:$('#popModel1').modal();"><strong>홍길동</strong> <span>경기 11하 1111(00:00 ~ 00:00)</span></a></li>
                <li><a href="javascript:$('#popModel1').modal();"><strong>홍길동</strong> <span>경기 11하 1111(00:00 ~ 00:00)</span></a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <!-- 일정/휴식시간 팝업 -->
      <div class="modal fade dark" id="popModel1" role="dialog" aria-hidden="true" aria-labelledby="modelTitleId" tabindex="-1">
        <div class="modal-dialog big" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">휴식시간 배차 등록/수정</h5>
              <button class="close" data-dismiss="modal" type="button" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <div class="data-form-table">
                <div class="data-form-table-body">
                  <table>
                    <tbody>
                      <tr>
                        <th><span>차량번호</span></th>
                        <td>
                          <div class="input-wrap select">
                            <select id name>
                              <option value="">선택</option>
                            </select>
                          </div>
                        </td>
                        <th><span>운전자</span></th>
                        <td>
                          <div class="input-wrap select">
                            <select id name>
                              <option value="">선택</option>
                            </select>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <th><span>일정</span></th>
                        <td colspan="3">
                          <div class="input-group date-range">
                            <div class="input-wrap select year">
                              <select id name>
                                <option value="">2019</option>
                              </select>
                            </div>
                            <div class="input-wrap date">
                              <input class="datepicker" id name type="text">
                              <i class="icon icon-calendar"></i>
                            </div>
                            <span class="between">~</span>
                            <div class="input-wrap date">
                              <input class="datepicker" id name type="text">
                              <i class="icon icon-calendar"></i>
                            </div>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <th><span>운행시간</span></th>
                        <td colspan="3">
                          <div class="input-group date-range">
                            <div class="input-wrap select">
                              <select id name>
                                <option value="">00시 00분</option>
                              </select>
                            </div>
                            <span class="between">~</span>
                            <div class="input-wrap select">
                              <select id name>
                                <option value="">00시 00분</option>
                              </select>
                            </div>
                          </div>
                          <div class="radio-group inline">
                            <div class="input-wrap radio"><label for="checkRadioWeekend1"><input id="checkRadioWeekend1" name="checkRadioWeekend" type="radio"><span>주말휴무</span></label></div>
                            <div class="input-wrap radio"><label for="checkRadioWeekend2"><input id="checkRadioWeekend2" name="checkRadioWeekend" type="radio"><span>주말근무</span></label></div>
                          </div>
                          <div class="check-group inline">
                            <div class="input-wrap check"><label for="checkWeekend1"><input id="checkWeekend1" name="checkWeekend" type="checkbox"><span>토</span></label></div>
                            <div class="input-wrap check"><label for="checkWeekend2"><input id="checkWeekend2" name="checkWeekend" type="checkbox"><span>일</span></label></div>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <th><span>노선번호,노선명</span></th>
                        <td colspan="3">
                          <div class="input-wrap"><input class="clearable" id name type="text"></div>
                        </td>
                      </tr>
                      <tr>
                        <th><span>기점</span></th>
                        <td>
                          <div class="input-wrap"><input class="clearable" id name type="text"></div>
                        </td>
                        <th><span>종점</span></th>
                        <td>
                          <div class="input-wrap"><input class="clearable" id name type="text"></div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button class="btn btn-white" data-dismiss="modal" type="button">취소</button>
              <button class="btn btn-blue" type="button">저장</button>
            </div>
          </div>
        </div>
      </div>
      <!-- //일정/휴식시간 팝업 -->
      <!-- 일정/휴식시간 일괄등록/삭제 팝업 -->
      <div class="modal fade dark" id="popModel2" role="dialog" aria-hidden="true" aria-labelledby="modelTitleId" tabindex="-1">
        <div class="modal-dialog big" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">(운수종사자) 일정/휴식시간 일괄등록/삭제</h5>
              <button class="close" data-dismiss="modal" type="button" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <!-- 일괄등록 -->
              <!-- content tab -->
              <div class="content-tab">
                <div class="radio-group inline bigger page-select">
                  <div class="input-wrap">
                    <label for="pageSelRadio1">
                      <input id="pageSelRadio1" name="pageSel" type="radio" checked>
                      <span>일괄등록</span>
                    </label>
                  </div>
                  <div class="input-wrap">
                    <label for="pageSelRadio2">
                      <input id="pageSelRadio2" name="pageSel" type="radio">
                      <span>일괄삭제</span>
                    </label>
                  </div>
                </div>
              </div>
              <!-- //content tab -->
              <div class="row">
                <div class="col-sm-12">
                  <!-- data list table -->
                  <div class="data-list-table">
                    <div class="data-table">
                      <table id="list2"></table>
                    </div>
                  </div>
                  <!-- //data list table -->
                </div>
              </div>
              <div class="data-form-table">
                <div class="data-form-table-body">
                  <table>
                    <tbody>
                      <tr>
                        <th><span>일정</span></th>
                        <td colspan="3">
                          <div class="input-group date-range">
                            <div class="input-wrap select year">
                              <select id name>
                                <option value="">2019</option>
                              </select>
                            </div>
                            <div class="input-wrap date">
                              <input class="datepicker" id name type="text">
                              <i class="icon icon-calendar"></i>
                            </div>
                            <span class="between">~</span>
                            <div class="input-wrap date">
                              <input class="datepicker" id name type="text">
                              <i class="icon icon-calendar"></i>
                            </div>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <th><span>운행시간</span></th>
                        <td colspan="3">
                          <div class="input-group date-range">
                            <div class="input-wrap select">
                              <select id name>
                                <option value="">00시 00분</option>
                              </select>
                            </div>
                            <span class="between">~</span>
                            <div class="input-wrap select">
                              <select id name>
                                <option value="">00시 00분</option>
                              </select>
                            </div>
                          </div>
                          <div class="radio-group inline">
                            <div class="input-wrap radio"><label for="checkRadioWeekend1"><input id="checkRadioWeekend1" name="checkRadioWeekend" type="radio"><span>주말휴무</span></label></div>
                            <div class="input-wrap radio"><label for="checkRadioWeekend2"><input id="checkRadioWeekend2" name="checkRadioWeekend" type="radio"><span>주말근무</span></label></div>
                          </div>
                          <div class="check-group inline">
                            <div class="input-wrap check"><label for="checkWeekend1"><input id="checkWeekend1" name="checkWeekend" type="checkbox"><span>토</span></label></div>
                            <div class="input-wrap check"><label for="checkWeekend2"><input id="checkWeekend2" name="checkWeekend" type="checkbox"><span>일</span></label></div>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <th><span>노선번호,노선명</span></th>
                        <td colspan="3">
                          <div class="input-wrap"><input class="clearable" id name type="text"></div>
                        </td>
                      </tr>
                      <tr>
                        <th><span>기점</span></th>
                        <td>
                          <div class="input-wrap"><input class="clearable" id name type="text"></div>
                        </td>
                        <th><span>종점</span></th>
                        <td>
                          <div class="input-wrap"><input class="clearable" id name type="text"></div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <!-- //일괄등록 -->
              <!-- 일괄삭제 -->
              <!-- content tab -->
              <div class="content-tab">
                <div class="radio-group inline bigger page-select">
                  <div class="input-wrap">
                    <label for="pageSelRadio1">
                      <input id="pageSelRadio1" name="pageSel" type="radio">
                      <span>일괄등록</span>
                    </label>
                  </div>
                  <div class="input-wrap">
                    <label for="pageSelRadio2">
                      <input id="pageSelRadio2" name="pageSel" type="radio" checked>
                      <span>일괄삭제</span>
                    </label>
                  </div>
                </div>
              </div>
              <!-- //content tab -->
              <div class="row">
                <div class="col-sm-6">
                  <!-- data list table -->
                  <div class="data-list-table">
                    <div class="data-table">
                      <table id="list3"></table>
                    </div>
                  </div>
                  <!-- //data list table -->
                </div>
                <div class="col-sm-6">
                  <!-- data list table -->
                  <div class="data-list-table">
                    <div class="data-table">
                      <table id="list4"></table>
                    </div>
                  </div>
                  <!-- //data list table -->
                </div>
              </div>
              <div class="data-form-table">
                <div class="data-form-table-body">
                  <table>
                    <tbody>
                      <tr>
                        <th><span>일정</span></th>
                        <td colspan="3">
                          <div class="input-group date-range">
                            <div class="input-wrap select year">
                              <select id name>
                                <option value="">2019</option>
                              </select>
                            </div>
                            <div class="input-wrap date">
                              <input class="datepicker" id name type="text">
                              <i class="icon icon-calendar"></i>
                            </div>
                            <span class="between">~</span>
                            <div class="input-wrap date">
                              <input class="datepicker" id name type="text">
                              <i class="icon icon-calendar"></i>
                            </div>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <!-- //일괄삭제 -->
            </div>
            <div class="modal-footer">
              <button class="btn btn-white" data-dismiss="modal" type="button">취소</button>
              <button class="btn btn-blue" type="button">저장</button>
            </div>
          </div>
        </div>
      </div>
      <!-- //일정/휴식시간 일괄등록/삭제 팝업 -->
      <!-- //팝업 영역 -->
    </div>
    <!-- //frame content -->
    <!-- //wrapper -->
    <!-- //Markup End -->
    <!-- JS resource load -->
    <script src="../../resources/js/jquery-1.12.4.min.js "></script>
    <script>
      jQuery.browser = {};
      (function () {
        jQuery.browser.msie = false;
        jQuery.browser.version = 0;
        if (navigator.userAgent.match(/MSIE ([0-9]+)\./)) {
          jQuery.browser.msie = true;
          jQuery.browser.version = RegExp.$1;
        }
      })();
    </script>
    <script src="../../resources/js/jquery-ui.min.js "></script>
    <script src="../../resources/js/bootstrap.min.js "></script>
    <script src="../../resources/js/popper.min.js "></script>
    <script src="../../resources/js/bootstrap-datepicker.js"></script>
    <script src="../../resources/js/jquery.jqGrid.src.js"></script>
    <script src="../../resources/js/s1-uvis-script.js "></script>
    <script src="../../resources/js/highcharts.js"></script>
    <!-- //JS resource load -->
    <!-- onload script -->
    <script>
      //data grid    
      $(function () {
        var chkcell = {
          cellId: undefined,
          chkval: undefined,
        }
        function jsFormatterCell(rowid, val, rowObject, cm, rdata) {
          var attr = rowObject.attr[cm.name],
            result;
          if (attr.rowspan) {
            result = ' rowspan=' + '"' + attr.rowspan + '"';
          } else if (attr.display) {
            result = ' style="display:' + attr.display + '"';
          }
          return result;
        }
        var grid1 = $("#list1");
        grid1.jqGrid({
          datatype: "local",
          colNames: ['일자', '차량번호', '운전자명', '운행시간'],
          colModel: [{
            name: 'col1',
            index: 'col1',
            width: "100",
            cellattr: jsFormatterCell
          }, {
            name: 'col2',
            index: 'col2',
            width: "150",
          }, {
            name: 'col3',
            index: 'col3',
            width: "150",
          }, {
            name: 'col4',
            index: 'col4',
            width: "200",
          }],
          rowNum: 15,
          scrollRows: true,
          scroll: true,
          rowList: [15, 25, 50],
          // pager: '#pager3',
          // multiselect: true,
          // multiselectWidth: 55,
          sortname: 'id',
          viewrecords: true,
          sortorder: "desc",
          autowidth: true,
          height: "auto",
          scrollTimeout: 1,
          shrinkToFit: true,
          forceFit: true,
          scrollOffset: 21,
          hoverrows: false,
          // footerrow: true,
          // userDataOnFooter: true,
          // altRows: true
        });
        var mydata = [{
          col1: "2019-01-01",
          col2: "경기 11하 1111",
          col3: "홍삼정",
          col4: "00:00 ~ 00:00",
          attr: {
            col1: {
              rowspan: "4"
            }
          }
        }, {
          col1: "2019-01-01",
          col2: "경기 11하 1111",
          col3: "홍삼정",
          col4: "00:00 ~ 00:00",
          attr: {
            col1: {
              display: "none"
            }
          }
        }, {
          col1: "2019-01-01",
          col2: "00그룹 담당",
          col3: "11그룹 담당",
          col4: "경기 11하 1111",
          attr: {
            col1: {
              display: "none"
            }
          }
        }, {
          col1: "2019-01-01",
          col2: "00그룹 담당",
          col3: "11그룹 담당",
          col4: "경기 11하 1111",
          attr: {
            col1: {
              display: "none"
            }
          }
        }];
        //
        $("#list2").jqGrid({
          datatype: "local",
          colNames: ['차량번호', '운전자명'],
          colModel: [{
            name: 'col1',
            index: 'col1',
            width: "100",
          }, {
            name: 'col2',
            index: 'col2',
            width: "100",
          }],
          rowNum: 15,
          // scrollRows: true,
          scroll: false,
          rowList: [15, 25, 50],
          // pager: '#pager3',
          multiselect: true,
          multiselectWidth: 55,
          sortname: 'id',
          viewrecords: true,
          sortorder: "desc",
          width: 720,
          // autowidth: true,
          height: "auto",
          scrollTimeout: 1,
          shrinkToFit: true,
          forceFit: true,
          scrollOffset: 21,
          // width:"100%",
          // footerrow: true,
          // userDataOnFooter: true,
          // altRows: true
        });
        var mydata2 = [{
          col1: "경기 11하 1111",
          col2: "홍삼정",
        }];
        //
        $("#list3").jqGrid({
          datatype: "local",
          colNames: ['차량번호'],
          colModel: [{
            name: 'col1',
            index: 'col1',
            width: "100",
          }],
          rowNum: 15,
          // scrollRows: true,
          scroll: false,
          rowList: [15, 25, 50],
          // pager: '#pager3',
          multiselect: true,
          multiselectWidth: 55,
          sortname: 'id',
          viewrecords: true,
          sortorder: "desc",
          width: 345,
          // autowidth: true,
          height: "auto",
          scrollTimeout: 1,
          shrinkToFit: true,
          forceFit: true,
          scrollOffset: 21,
          // width:"100%",
          // footerrow: true,
          // userDataOnFooter: true,
          // altRows: true
        });
        var mydata3 = [{
          col1: "경기 11하 1111",
        }];
        // 
        // 
        $("#list4").jqGrid({
          datatype: "local",
          colNames: ['운전자명'],
          colModel: [{
            name: 'col1',
            index: 'col1',
            width: "100",
          }],
          rowNum: 15,
          scrollRows: true,
          scroll: true,
          rowList: [15, 25, 50],
          // pager: '#pager3',
          multiselect: true,
          multiselectWidth: 55,
          sortname: 'id',
          viewrecords: true,
          sortorder: "desc",
          width: 345,
          // autowidth: true,
          height: "auto",
          scrollTimeout: 1,
          shrinkToFit: true,
          forceFit: true,
          scrollOffset: 21,
          // footerrow: true,
          // userDataOnFooter: true,
          // altRows: true
        });
        var mydata4 = [{
          col1: "홍삼정",
        }];
        //
        for (var i = 0; i <= mydata.length; i++)
          $("#list1").jqGrid('addRowData', i + 1, mydata[i]);
        for (var i = 0; i <= mydata2.length; i++)
          $("#list2").jqGrid('addRowData', i + 1, mydata2[i]);
        for (var i = 0; i <= mydata3.length; i++)
          $("#list3").jqGrid('addRowData', i + 1, mydata3[i]);
        for (var i = 0; i <= mydata4.length; i++)
          $("#list4").jqGrid('addRowData', i + 1, mydata4[i]);
        // 테이블 하단 합계 부분은 jqgrid 가이드 참고하여 개발 요망
      });
      /*
          일정 더보기 레이어 팝업
          마우스 오버시 인터렉션 관련 스크립트만 작성되어있습니다.
          데이터 변경 관련 스크립트는 개발에서 진행해주세요.
        */
      $(function () {
        var targetX, targetY, popFocusX, popFocusY = 0;
        var issueModal = $('.modal-schedule');
        function popPositionChange(target, targetX, targetY, focusX, focusY) {
          // console.log(targetX, targetY, focusX, focusY);
          var frame = $('.calendar-bottom');
          var frameWidth = frame.width(),
            frameHeight = frame.height();
          // console.log(frameWidth, frameHeight);
          if (focusX < frameWidth - issueModal.width()) { //마우스 위치가 리스트 좌측일때
            // console.log('left');
            issueModal.css({
              'left': targetX - target.parent().width() - 20
            })
          } else if (focusX > frameWidth - issueModal.width()) { //마우스 위치가 리스트 우측일때
            // console.log('right');
            issueModal.css({
              'left': targetX - issueModal.width() + 20
            })
          }
          if (focusY < frame.offset().top + (frameHeight / 2)) { //마우스 위치가 리스트 상단일때
            // console.log('top');
            issueModal.css({
              'top': targetY + target.height() - 20
            })
          } else if (focusY > frame.offset().top + (frameHeight / 2)) { //마우스 위치가 리스트 하단일때
            console.log('bottom');
            issueModal.css({
              'top': targetY - issueModal.height() + 20
            })
          }
        }
        $('.btn-more-schedule').each(function () {
          var target = $(this);
          $(this).on('click', function (event) {
            $('.modal-schedule').hide();
            targetX = $(event.target).offset().left;
            targetY = $(event.target).offset().top;
            popFocusX = event.clientX;
            popFocusY = event.clientY;
            // console.log(targetX, targetY);
            popPositionChange(target, targetX, targetY, popFocusX, popFocusY);
            $('.modal-schedule').show();
          });
        });
      })
    </script>
    <!-- //onload script -->
  </div>
</body>
</html>