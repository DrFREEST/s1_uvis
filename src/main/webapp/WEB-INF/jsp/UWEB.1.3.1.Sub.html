<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Title Page</title>
  <!-- CSS resource load -->
  <link href="../../resources/fonts/NotoSansKR-Regular.woff2" rel="preload" as="font">
  <link href="../../resources/fonts/NotoSansKR-Medium.woff2" rel="preload" as="font">
  <link href="../../resources/fonts/NotoSansKR-Bold.woff2" rel="preload" as="font">
  <link href="../../resources/css/NotoSansKR.css" rel="stylesheet">
  <link href="../../resources/css/font-awesome-all.css" rel="stylesheet">
  <link href="../../resources/css/bootstrap.min.css" rel="stylesheet">
  <link href="../../resources/css/bootstrap-datepicker.standalone.css" rel="stylesheet">
  <link href="../../resources/css/ui.jqgrid.css" rel="stylesheet">
  <link href="../../resources/css/reset.css" rel="stylesheet">
  <link href="../../resources/css/s1_uvis_frame.css" rel="stylesheet">
  <link href="../../resources/css/s1_uvis_style.css" rel="stylesheet">
  <!-- //CSS resource load -->
</head>
<body>
  <!-- Markup Start -->
  <!-- wrapper -->
  <div class="wrapper">
    <!-- header -->
    <div class="header-wrap">
      <div class="header">
        <h1 class="logo-header">
          <a href="javascript:;"><img src="../../resources/images/logo-uvis-header.png" alt="에스원 유비스"></a>
        </h1>
        <div class="gnb">
          <ul>
            <li class="has-child"><a class="menu" data-tab-id="tabs-4-1-1" href="#" onclick="openTab('tabs-2-1-1', 'UWEB.2.1.1.CarLocation.html','실시간 모니터링');">실시간 모니터링</a>
              <div class="sub-depth1">
                <h2>실시간 모니터링</h2>
                <ul>
                  <li><a href="#">배터리 저전압</a></li>
                  <li><a href="#">도어개폐</a></li>
                  <li><a href="#">원격일괄제어</a></li>
                  <li><a href="#">출동서비스현황</a></li>
                  <li><a href="#">차량위치</a>
                    <div class="sub-depth2">
                      <ul>
                        <li><a href="#">차량위치</a></li>
                        <li><a href="#">전체화면</a></li>
                      </ul>
                    </div>
                  </li>
                  <li><a href="#">온도모니터링</a>
                    <div class="sub-depth2">
                      <ul>
                        <li><a href="#">창고온도</a></li>
                        <li><a href="#">차량온도</a></li>
                      </ul>
                    </div>
                  </li>
                </ul>
              </div>
            </li>
            <li class="has-child"><a class="menu" data-tab-id="tabs-4-2-1" href="#" onclick="openTab('tabs-4-2-1', 'UWEB.4.2.1.MenuSetting.html','운행현황');">운행현황</a>
              <div class="sub-depth1">
                <h2>운행현황</h2>
                <ul>
                  <li><a href="#">운행실적</a></li>
                  <li><a href="#">유류사용량</a></li>
                  <li><a href="#">월별 운행 현황</a></li>
                  <li><a href="#">차계부</a></li>
                  <li><a href="#">SMS발송이력</a></li>
                  <li><a href="#">배차현황</a>
                    <div class="sub-depth2">
                      <ul>
                        <li><a href="#">배차신청</a></li>
                        <li><a href="#">전체 배차현황</a></li>
                        <li><a href="#">차량사용자 배차현황</a></li>
                      </ul>
                    </div>
                  </li>
                  <li><a href="#">이상정보</a>
                    <div class="sub-depth2">
                      <ul>
                        <li><a href="#">차량 이상 정보</a></li>
                        <li><a href="#">고장 진단 정보</a></li>
                        <li><a href="#">에코 정보</a></li>
                      </ul>
                    </div>
                  </li>
                  <!-- 높이 가득 차야하는 메뉴일 경우 .height-flex 클래스 추가 -->
                  <li class="height-flex"><a href="#">일정/휴식시간</a>
                    <div class="sub-depth2">
                      <ul>
                        <li><a href="#">휴식 일정 관리</a></li>
                        <li><a href="#">휴식 시간 현황</a></li>
                      </ul>
                    </div>
                  </li>
                  <li><a href="#">노선별승하차현황</a></li>
                  <li><a href="#">노선별운행현황</a>
                    <div class="sub-depth2">
                      <ul>
                        <li><a href="#">노선별 운행실적</a></li>
                        <li><a href="#">정류장별 탑승현황</a></li>
                      </ul>
                    </div>
                  </li>
                </ul>
              </div>
            </li>
            <li class="has-child"><a class="menu" data-tab-id="tabs-4-3-1" href="#" onclick="openTab('tabs-4-3-1', 'UWEB.4.3.1.Contract.html','관리설정');">관리설정</a>
              <div class="sub-depth1">
                <h2>관리설정</h2>
                <ul>
                  <li><a href="#">사용자관리</a></li>
                  <li><a href="#">메뉴 그룹 관리</a></li>
                  <li><a href="#">계약 관리</a></li>
                  <li><a href="#">그룹 관리</a></li>
                  <li><a href="#">알림 관리</a></li>
                  <li><a href="#">지점 관리</a></li>
                  <li><a href="#">에코 관리</a></li>
                  <li><a href="#">공통 코드 관리</a></li>
                  <li><a href="#">정류장 관리</a></li>
                  <li><a href="#">노선 관리</a></li>
                  <li><a href="#">휴일 관리</a></li>
                  <li><a href="#">연락처 관리</a></li>
                  <li><a href="#">사용자 로그</a></li>
                  <li><a href="#">긴급배차팝업</a></li>
                  <li><a href="#">차량 관리</a>
                    <div class="sub-depth2">
                      <ul>
                        <li><a href="#">차량정보 관리</a></li>
                        <li><a href="#">운전자관리</a></li>
                      </ul>
                    </div>
                  </li>
                </ul>
              </div>
            </li>
          </ul>
        </div>
        <div class="my-menu">
          <ul>
            <li><a class="menu" data-tab-id="tabs-4-4-1" href="#" onclick="openTab('tabs-4-4-1', 'UWEB.4.4.1.VehicleList.html','배차신청');">배차신청</a></li>
            <li><a class="menu" data-tab-id="tabs-4-5-2" href="#" onclick="openTab('tabs-4-5-1', 'UWEB.4.4.2.DriverList.html','eTAS 신청');">eTAS 신청</a></li>
            <li><a class="menu" data-tab-id="tabs-4-6-1" href="#" onclick="openTab('tabs-4-6-1', 'UWEB.4.5.1.GroupList.html','운행기록부');">운행기록부</a></li>
            <li><a class="menu" data-tab-id="tabs-4-7-1" href="#" onclick="openTab('tabs-4-7-1', 'UWEB.4.6.1.AlarmList.html','휴식시간현황');">휴식시간현황</a></li>
          </ul>
        </div>
        <div class="util">
          <ul>
            <li><a href="javascript:;">로그아웃</a></li>
            <li><a href="javascript:;">ENG</a></li>
            <li class="has-child"><a href="javascript:;">고객지원</a>
              <div class="sub-depth1">
                <h2>고객지원</h2>
                <ul>
                  <li><a href="#">자주하는 질문</a></li>
                  <li><a href="#">1:1문의</a></li>
                  <li><a href="#">공지사항</a></li>
                  <li><a href="#">도움말</a></li>
                  <li><a href="#">API신청</a></li>
                  <li><a href="#">이전설치 신청서</a></li>
                  <li><a href="#">MY유비스</a>
                    <div class="sub-depth2">
                      <ul>
                        <li><a href="#">환경설정</a></li>
                        <li><a href="#">정보변경</a></li>
                      </ul>
                    </div>
                  </li>
                </ul>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <!-- //header -->
    <!-- page tabs -->
    <div class="page-tabs">
      <ul id="tabs">
        <li class="active">
          <i class="icon-info"></i>
          <a data-tab-id="tabs-4-1-1" href="#"><span>실시간 모니터링</span></a>
          <button class="btn-delete action tabClose1" type="button"></button>
        </li>
      </ul>
    </div>
    <!-- //page tabs -->
    <!-- content -->
    <div class="content-wrap">
      <div class="page-frame" id="tabs-4-10-1">
        <iframe name="contentsFrame" src="UWEB.2.1.1.CarLocation.html" frameborder="0"></iframe>
      </div>
    </div>
    <!-- //content -->
    <!-- //wrapper -->
    <!-- //Markup End -->
    <!-- JS resource load -->
    <script src="../../resources/js/jquery-1.12.4.min.js "></script>
    <script>
      jQuery.browser = {};
      (function () {
        jQuery.browser.msie = false;
        jQuery.browser.version = 0;
        if (navigator.userAgent.match(/MSIE ([0-9]+)\./)) {
          jQuery.browser.msie = true;
          jQuery.browser.version = RegExp.$1;
        }
      })();
    </script>
    <script src="../../resources/js/jquery-ui.js "></script>
    <script src="../../resources/js/bootstrap.min.js "></script>
    <script src="../../resources/js/popper.min.js "></script>
    <script src="../../resources/js/bootstrap-datepicker.js"></script>
    <script src="../../resources/js/jquery.jqGrid.src.js"></script>
    <script src="../../resources/js/s1-uvis-script.js "></script>
    <!-- //JS resource load -->
    <script>
      $(function () {
        var tabTitle = "",
          tabContent = "",
          tabCounter = 1;
        var tabs = $("#tabs").tabs();
        openTab = function (tabId, url, name) {
          var label = name || "Tab " + tabCounter,
            li = "<li><i class='icon-info'></i><a data-tab-id='" + tabId + "' href='#'><span>" + label + "</span></a><button type='button' class='btn-delete action tabClose'></button></li>";
          console.log('탭 갯수' + $(document).find('#tabs').find('li').length);
          if ($(document).find('.content-wrap').find('#' + tabId).length > 0) {
            console.log('탭 있음');
            $(document).find('.content-wrap .page-frame').hide();
            $(document).find('.content-wrap').find('#' + tabId).show();
            $(document).find('#tabs li a').each(function () {
              if ($(this).attr('data-tab-id') == tabId) {
                $(this).parent().addClass('active');
              } else {
                $(this).parent().removeClass('active');
              }
            });
          } else if ($(document).find('.content-wrap').find('#' + tabId).length <= 0) {
            console.log('탭 없음');
            if ($('#tabs').find('li').length >= 5) {
              alert("5개까지만 열 수 있음");
              return;
            } else {
              tabs.append(li);
              $(document).find('.content-wrap .page-frame').hide();
              $(".content-wrap").append("<div class='page-frame' id='" + tabId + "'><iframe src='" + url + "' frameborder='0'></iframe></div>").show();
              $(document).find('#tabs li a').each(function () {
                if ($(this).attr('data-tab-id') == tabId) {
                  $(this).parent().addClass('active');
                } else {
                  $(this).parent().removeClass('active');
                }
              });
            }
          }
          tabs.tabs("refresh");
          tabCounter++;
        }
        tabs.on('click', '.btn-delete', function (event) {
          if ($(document).find('#tabs li').length <= 1) {
            alert('현재 탭은 삭제할 수 없습니다.');
          } else {
            var deleteTagrget = $(this).parent().find('a').attr('data-tab-id');
            console.log(deleteTagrget);
            $('.content-wrap').find('#' + deleteTagrget).hide();
            $('.content-wrap').find('#' + deleteTagrget).prev().show();
            $('.content-wrap').find('#' + deleteTagrget).remove();
            $(this).parent().prev().addClass('active');
            $(this).parent().remove();
            tabs.tabs("refresh");
          }
        });//tab delete
        tabs.on('click', 'a', function (event) {
          var activeTraget = $(this).attr('data-tab-id');
          $(document).find('.content-wrap .page-frame').hide();
          $(document).find('.content-wrap').find('#' + activeTraget).show();
          $(document).find('#tabs li a').each(function () {
            if ($(this).attr('data-tab-id') == activeTraget) {
              $(this).parent().addClass('active');
            } else {
              $(this).parent().removeClass('active');
            }
          });
        })
        tabs.on("keyup", function (event) {
          if (event.altKey && event.keyCode === $.ui.keyCode.BACKSPACE) {
            var panelId = tabs.find(".ui-tabs-active").remove().attr("aria-controls");
            $("#" + panelId).remove();
            tabs.tabs("refresh");
          }
        });
      });
    </script>
    <!-- //onload script -->
  </div>
</body>
</html>